!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Sukkula=t():n.Sukkula=t()}(window,function(){return function(n){var t={};function r(e){if(t[e])return t[e].exports;var o=t[e]={i:e,l:!1,exports:{}};return n[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=t,r.d=function(n,t,e){r.o(n,t)||Object.defineProperty(n,t,{configurable:!1,enumerable:!0,get:e})},r.r=function(n){Object.defineProperty(n,"__esModule",{value:!0})},r.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(t,"a",t),t},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="",r(r.s=4)}([function(n,t,r){"use strict";function e(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.forEach(function(t){o(n,t,r[t])})}return n}function o(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}Object.defineProperty(t,"__esModule",{value:!0}),t.logAll=t.logValue=t.log=t.guard=t.mapValue=t.makeSink=t.constant=t.identity=t.noop=t.pipe=void 0;t.pipe=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return t.reduce(function(n,t){return t(n)})};var i=function(){};t.noop=i;t.identity=function(n){return n};t.constant=function(n){return function(){return n}};var u={start:i,next:i,finish:i,error:i};t.makeSink=function(n){return e({},u,n)};t.mapValue=function(n,t){return Object.keys(n).reduce(function(r,e){return r[e]=t(e,n[e]),r},{})};var c=function(n){var t=!1,r=!1;return{start:function(){t||r||(t=!0,n.start())},finish:function(){r||(r=!0,t&&n.finish())}}};t.guard=c;t.log=function(n){return function(t){return function(r){return t({start:function(){console.log(n,"start"),r.start()},next:function(t){console.log(n,"next",t),r.next(t)},finish:function(){console.log(n,"finish"),r.finish()},error:function(t){console.log(n,"error",t),r.error(t)}})}}};t.logValue=function(n){return function(t){return function(r){return t(e({},r,{next:function(t){console.log(n,t),r.next(t)}}))}}};t.logAll=function(n){return function(t){return function(r){var e=t({start:function(){console.log(n,"sink:start"),r.start()},next:function(t){console.log(n,"sink:next",t),r.next(t)},finish:function(){console.log(n,"sink:finish"),r.finish()},error:function(t){console.log(n,"sink:error",t),r.error(t)}});return c({start:function(){console.log(n,"action:start"),e.start()},finish:function(){console.log(n,"action:finish"),e.finish()}})}}}},function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.onError=t.onFinish=t.onNext=t.onStart=t.on=t.run=t.toAction=t.fork=void 0;var e=r(0);function o(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}t.fork=function(n){return function(t){return function(r){var o=(0,e.mapValue)(r,function(t,r){return function(e){n[t](e),r(e)}});return t((0,e.makeSink)(o))}}};var i=function(n){return function(t){return t((0,e.makeSink)(n))}};t.toAction=i;t.run=function(n){return function(t){"function"==typeof n&&(n={next:n});var r=i(n)(t);return r.start(),r}};var u=function(n){return function(t){return function(r){return function(e){return r(function(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.forEach(function(t){o(n,t,r[t])})}return n}({},e,o({},n,function(r){t(r),e[n](r)})))}}}};t.on=u;var c=u("start");t.onStart=c;var f=u("next");t.onNext=f;var a=u("finish");t.onFinish=a;var s=u("error");t.onError=s},function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fromPromise=t.fromRange=t.of=t.fromArray=t.fromEvent=t.interval=t.empty=void 0;var e=r(0);function o(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var r=[],e=!0,o=!1,i=void 0;try{for(var u,c=n[Symbol.iterator]();!(e=(u=c.next()).done)&&(r.push(u.value),!t||r.length!==t);e=!0);}catch(n){o=!0,i=n}finally{try{e||null==c.return||c.return()}finally{if(o)throw i}}return r}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=function(n){return(0,e.guard)({start:n.start,finish:n.finish})};t.empty=i;t.interval=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return function(t){var r=0,o=null;return(0,e.guard)({start:function(){o=setInterval(function(){return t.next(r++)},n),t.start()},finish:function(){clearInterval(o),t.finish()}})}};var u=[["addEventListener","removeEventListener"],["addListener","removeListener"],["subscribe","unsubscribe"],["on","off"]];t.fromEvent=function(n,t){for(var r=arguments.length,i=new Array(r>2?r-2:0),c=2;c<r;c++)i[c-2]=arguments[c];return function(r){var c=o(function(n){var t=u.filter(function(t){return t[0]in n})[0];if(!t)throw new Error("unsupport event emitter");return t}(n),2),f=c[0],a=c[1],s=function(n){return r.next(n)};return(0,e.guard)({start:function(){n[f].apply(n,[t,s].concat(i)),r.start()},finish:function(){n[a].apply(n,[t,s].concat(i)),r.finish()}})}};var c=function(n){return function(t){var r=0,o=function e(){i||(r<n.length?(t.next(n[r++]),e()):r===n.length&&u())},i=!1,u=function(){i=!0,t.finish()};return(0,e.guard)({start:function(){t.start(),o()},finish:u})}};t.fromArray=c;t.of=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return c(t)};t.fromRange=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return function(o){if(n===t)return i(o);var u=t>n,c=n-r,f=function n(){a||(c+=r,(u?c<=t:c>=t)?(o.next(c),n()):(u?c>t:c<t)&&s())},a=!1,s=function(){a=!0,o.finish()};return(0,e.guard)({start:function(){o.start(),f()},finish:s})}};t.fromPromise=function(n){return function(t){var r=function(){o||n.then(function(n){o||(t.next(n),i())},function(n){o||(t.error(n),i())})},o=!1,i=function(){o=!0,t.finish()};return(0,e.guard)({start:function(){t.start(),r()},finish:i})}}},function(n,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startWith=t.reduce=t.switchMap=t.then=t.takeLast=t.takeUntil=t.skip=t.scan=t.take=t.filter=t.mapTo=t.map=t.combineObject=t.combineWith=t.combine=t.mergeWith=t.merge=t.concatSourceBy=t.concatBy=t.concatSource=t.concat=void 0;var e=r(0),o=r(1),i=r(2);function u(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),e.forEach(function(t){c(n,t,r[t])})}return n}function c(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}function f(n){return function(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a={},s=function(n){return function(t){var r=0,o=null,i=(0,e.makeSink)({next:t.next,error:t.error,finish:function(){o=null,c&&u()}}),u=function(){var e;try{e=n(r++)}catch(n){return t.error(n),void c.finish()}if(!e)return c.finish();(o=e(i)).start()},c=(0,e.guard)({start:function(){t.start(),u()},finish:function(){c=null,o&&o.finish(),t.finish()}});return c}},l=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return s(function(n){return t[n]})};t.concat=l;t.concatSource=function(n){return function(t){return l(t,n)}};var v=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return s(function(n){var r=t[n];return r?r(n):null})};t.concatBy=v;var h=function(n){return function(t){return v(function(){return t},n)}};t.concatSourceBy=h;var p=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return function(n){var r=0,o=(0,e.makeSink)({next:n.next,error:n.error,finish:function(){++r===t.length&&u.finish()}}),i=t.map(function(n){return n(o)}),u=(0,e.guard)({start:function(){i.forEach(function(n){return n.start()}),n.start()},finish:function(){i.forEach(function(n){return n.finish()}),n.finish()}});return u}};t.merge=p;t.mergeWith=function(n){return function(t){return p(t,n)}};var y=function(){for(var n=arguments.length,t=new Array(n),r=0;r<n;r++)t[r]=arguments[r];return function(n){var r=0,o=function(){++r===t.length&&c.finish()},i=new Array(t.length),u=t.map(function(t,r){var u=(0,e.makeSink)({next:function(t){i[r]=t,-1===i.indexOf(a)&&n.next(i.concat())},finish:o,error:n.error});return i[r]=a,t(u)}),c=(0,e.guard)({start:function(){u.forEach(function(n){return n.start()}),n.start()},finish:function(){u.forEach(function(n){return n.finish()}),n.finish()}});return c}};t.combine=y;t.combineWith=function(n){return function(t){return y(t,n)}};t.combineObject=function(n){var t,r=Object.keys(n),e=r.map(function(t){return n[t]});return t=y.apply(void 0,f(e)),g(function(n){return n.reduce(function(n,t,e){return n[r[e]]=t,n},{})})(t)};var g=function(n){return function(t){return function(r){return t(u({},r,{next:function(t){return r.next(n(t))}}))}}};t.map=g;t.mapTo=function(n){return g(function(){return n})};var d=function(n){return function(t){return function(r){return t(u({},r,{next:function(t){return n(t)&&r.next(t)}}))}}};t.filter=d;t.take=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function(t){return function(r){var e=0,o=t(u({},r,{next:function(t){e+=1,r.next(t),e===n&&o.finish()}}));return o}}};var b=function(n,t){return function(r){return function(e){var o=t;return r(u({},e,{next:function(t){return e.next(o=n(o,t))}}))}}};t.scan=b;t.skip=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return d(function(){return 0===n||(n-=1,!1)})};t.takeUntil=function(n){return function(t){return function(r){var i,u=(0,e.guard)({start:function(){c.start(),f.start()},finish:function(){c.finish(),f.finish()}}),c=t(r),f=(i=n,(0,o.toAction)({next:u.finish})(i));return u}}};t.takeLast=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return function(r){var e,u,c,f=[];return c=t,u=(0,o.onNext)(function(t){f.push(t),f.length>n&&f.shift()})(c),e=h(function(){var n;return n=(0,i.fromArray)(f),(0,o.onNext)(r.next)(n)})(u),(0,o.toAction)({start:r.start,error:r.error,finish:r.finish})(e)}}};var m=function(n){return function(t){return function(r){var e,i,u,c=a;return u=t,i=(0,o.onNext)(function(n){return r.next(c=n)})(u),e=h(function(){var t;return t=c!==a&&n(c),(0,o.onNext)(r.next)(t)})(i),(0,o.toAction)({start:r.start,error:r.error,finish:r.finish})(e)}}};t.then=m;t.switchMap=function(n){return function(t){return function(r){var o=null,i=(0,e.makeSink)({next:r.next});return t(u({},r,{next:function(t){o&&o.finish();try{(o=n(t)(i)).start()}catch(n){r.error(n),action.finish()}},finish:function(){o&&o.finish(),r.finish()}}))}}};t.reduce=function(n,t){return function(r){return function(e){var u,c,f;return f=r,c=b(n,t)(f),u=m(function(n){var t;return t=(0,i.of)(n),(0,o.fork)(e)(t)})(c),(0,o.toAction)()(u)}}};t.startWith=function(n){return function(t){return l((0,i.of)(n),t)}}},function(n,t,r){"use strict";function e(n){if(n&&n.__esModule)return n;var t={};if(null!=n)for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var e=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(n,r):{};e.get||e.set?Object.defineProperty(t,r,e):t[r]=n[r]}return t.default=n,t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={source:e(r(2)),sink:e(r(1)),operator:e(r(3)),utility:e(r(0))};t.default=o}])});